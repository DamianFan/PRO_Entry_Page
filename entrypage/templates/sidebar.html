{% load static %}

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>Collapsible sidebar using Bootstrap 4</title>

    <!-- Bootstrap CSS CDN -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css" integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4" crossorigin="anonymous">
    <!-- Our Custom CSS -->
    <link rel="stylesheet" href="{% static "css/style2.css" %}">
    <!-- Scrollbar Custom CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/malihu-custom-scrollbar-plugin/3.1.5/jquery.mCustomScrollbar.min.css">

    <!-- Font Awesome JS -->
    <script defer src="https://use.fontawesome.com/releases/v5.0.13/js/solid.js" integrity="sha384-tzzSw1/Vo+0N5UhStP3bvwWPq+uvzCMfrN1fEFe+xBmv1C/AtVX5K0uZtmcHitFZ" crossorigin="anonymous"></script>
    <script defer src="https://use.fontawesome.com/releases/v5.0.13/js/fontawesome.js" integrity="sha384-6OIrr52G08NpOFSZdxxz1xdNSndlD4vdcf/q2myIUVO0VsqaGHJsB0RaBE01VTOY" crossorigin="anonymous"></script>

</head>

<body>

<div id="pro-header">
    <table border="0" cellspacing="0" cellpadding="0" width=100%>
        <tr><td>

            <table cellSpacing=0 cellPadding=0 width="100%" background="{% static '/images/bannerBg.png' %}" border=0 >
                <TR><TD colspan=8><img src="{% static '/images/empty_line.GIF' %}" width='1' height='9'></TD></TR>
                <TR><td bgcolor=#EEEEEE colspan=8 height=1 nowrap><img src='{% static '/images/empty_line.GIF' %}' alt="" width='1' height='3'></td></TR>
                <tr style="height:76px">
                    <td align=center style="padding:2px 3px 2px 11px">
                        <a href='/pro.shtml'><img alt='back to PRO homepage' src='{% static '/images/PROlogofinalEDGclear.png' %}'  width=140 heightxx=42 border=0></a>
                    </td>
                    <td width=80% >
                        <TABLE border=0 cellPadding=0 cellSpacing=0 class=PRO_banner1 >
                            <TR> <td><img src='{% static '/images/empty_line.GIF' %}' width='15'></td>
                                <td><img src="{% static '/images/hm.png' %}" alt="" width="18">&nbsp;</td>
                                <TD align='center' nowrap><a href='/pro.shtml' class='ProMenu'>Home</a></td>
                                <td style="padding:0 5px">|</td>

                                <td><img src='{% static '/images/browse.png' %}' width='18'>&nbsp;</td>
                                <td align='center' nowrap><a href='/pro_browse.shtml' class='ProMenu'>Browse</a></td><td>
                                <td style="padding:0 5px">|</td>

                                <td><img src='{% static '/images/search_copy.png' %}' width='18'>&nbsp;</td>
                                <td align='center' nowrap><a href='/pro_search.shtml' class='ProMenu'>Search</a></td>
                                <td style="padding:0 5px">|</td>

                                <td><img src='{% static '/images/sparql.png' %}' width='18'>&nbsp;</td>
                                <td align='center' nowrap><a href='/pro_sparql.shtml' class='ProMenu'>SPARQL</a></td>
                                <td style="padding:0 5px">|</td>

                                <td><img src='{% static '/images/sta.png' %}' width='18'>&nbsp;</td>
                                <td align='center' nowrap><a href='/cgi-bin/sta_pro' class='ProMenu'>Statistics</a></td>
                                <td style="padding:0 5px">|</td>

                                <td><img src='{% static '/images/download.png' %}' width='18'>&nbsp;</td>
                                <td align='center' nowrap><a href='/pro_download.shtml' class='ProMenu'>Download</a></td>

                                <td><img src='{% static '/images/empty_line.GIF' %}' width='15'></td>
                            </TR>
                        </TABLE>
                    </td>

                    <td align=center>
                        <TABLE border=0 cellPadding=3 cellSpacing=3 class=nrm02>
                            <TR>
                                <form name=prosearch method=get action=/cgi-bin/textsearch_pro>
                                    <TD nowrap><input type=text name=query0 size=30 class=nrm11 placeholder='PR:000025934, smad'>
                                    <td><input type=image name='search' src='{% static '/images/searchWhite.png' %}'><input type=hidden name=field0 value='ALLFLDS'></td>
                                    <td><img src='{% static '/images/empty_line.GIF' %}' width='4'></td>
                                </form>
                            </TR>
                        </TABLE>
                    </td>
                    <td bgcolor=#EEEEEE><img src='{% static '/images/empty_line.GIF' %}' width='3' height='1'></td>
                    <td>

                        <TABLE border=0 cellPadding=3 cellSpacing=3 class=PRO_banner2 >
                            <TR><td></td>

                                <TD nowrap><IMG src='{% static '/images/whiteDot.gif' %}'>&nbsp;<a href='/cgi-bin/race_pro'>RACE-PRO</a>
                                    <br><IMG src='{% static '/images/whiteDot.gif' %}'>&nbsp;<a href='http://purl.obolibrary.org/obo/pr/tracker' target=_b>PRO tracker</a>
                                    <br><IMG src='{% static '/images/whiteDot.gif' %}'>&nbsp;<a href='https://pir17.georgetown.edu/confluence/display/PROWIKI/Home' target=_b>Wiki</a></TD>

                                <TD><img src='{% static '/images/empty_line.GIF' %}' width='5'></TD>
                            </TR>
                        </TABLE>

                    </td>
                    <td bgcolor=#EEEEEE><img src='{% static '/images/empty_line.GIF' %}' width='3' height='1'></td>
                    <td align=right>


                        <TABLE border=0 cellPadding=3 cellSpacing=3 class=PRO_banner2 >
                            <TR><td></td>

                                <TD nowrap><IMG src='{% static '/images/whiteDot.gif' %}'>&nbsp;<a href='/pro_cst.shtml'>PRO Consortium</a>
                                    <br><IMG src='{% static '/images/whiteDot.gif' %}'>&nbsp;<a href='/pro_pub.shtml'>Publications</a>
                                    <br><IMG src='{% static '/images/whiteDot.gif' %}'>&nbsp;<a href='/pro_dcmtt.shtml'>Documentation</a></TD>

                                <TD><img src='{% static '/images/empty_line.GIF' %}' width='15'></TD>
                            </TR>
                        </TABLE>

                    </td>
                </tr>
                <TR><td bgcolor=#EEEEEE colspan=8 height=1 nowrap><img src='{% static '/images/empty_line.GIF' %}' width='1' height='3'></TD></TR>
                <TR><td colspan=8><img src='{% static '/images/empty_line.GIF' %}' width='1' height='9'></TD></TR>
            </table>

        </td>
        </tr>
    </table>
</div>

    <div class="wrapper">
        <!-- Sidebar  -->
        <nav id="sidebar">
            <div class="sidebar-header">
                <img id="treeicon" src="{% static '/images/leafLessTree.png' %}" width="20" height="20">

        <button  type="button" id="showname" onclick="fullscreen()" style="width: 30px;font-weight: bold; color:#336699; height: 28px; font-size: 13px; float: right;">
            <img id="arr" src="{% static '/images/arrow01.png' %}" width="10" height="10">
        </button>

        <input type="button" id="zoomin" onclick="showname()" style="width: 130px;font-weight: bold; color:#336699; height: 28px;  font-size: 13px" value="Show PRO Name">
            </div>

            <div id="hierarchy"></div>
        </nav>

        <!-- Page Content  -->
        <div id="content">
            <button type="button" id="sidebarCollapse" class="btn btn-info">
                <i class="fas fa-align-left"></i>
                <span>Toggle Sidebar</span>
            </button>

                    <button class="btn btn-dark d-inline-block d-lg-none ml-auto" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                        <i class="fas fa-align-justify"></i>
                    </button>

                </div>
            <div id="main">

    <div id="Table_Borderless">
        {% include "table_borderless.html" %}
    </div>

    <div id="ontology-information">
        {% include "ontology_information.html" %}
    </div>

    <div id="related-cross-reference">
        {% include "xref.html" %}
    </div>

    <div id="msa"></div>

    <div id="forms"></div>

    <div id="complex"></div>

    <div id="complex-subunits"></div>

    <div id="functional-annotation"></div>

</div>

<a id="topButton" href="#top" class="pull-right"><span class="glyphicon glyphicon-chevron-up"></span>top</a>


          </div>


    <!-- jQuery CDN - Slim version (=without AJAX) -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <!-- Popper.JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js" integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ" crossorigin="anonymous"></script>
    <!-- Bootstrap JS -->
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js" integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm" crossorigin="anonymous"></script>
    <!-- jQuery Custom Scroller CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/malihu-custom-scrollbar-plugin/3.1.5/jquery.mCustomScrollbar.concat.min.js"></script>

    <script type="text/javascript">
        $(document).ready(function () {
            $("#sidebar").mCustomScrollbar({
                theme: "minimal"
            });

            $('#sidebarCollapse').on('click', function () {
                $('#sidebar, #content').toggleClass('active');
                $('.collapse.in').toggleClass('in');
                $('a[aria-expanded=true]').attr('aria-expanded', 'false');
            });
        });


            {#var treeid = "{{ jstreeurl }}";#}
    {#var id = treeid#}
    {#var treename = "{{ jstreenameurl }}";#}


var i=1;
var img=document.getElementById("arr");
function fullscreen(){
    if(i%2!==0)
    {
    document.getElementById("sidebar-wrapper").style.minWidth ='100%';
    img.src="{% static '/images/arrow02.png' %}";
    {#img.src = "{% static '/images/arrow02.png' %}";#}

    }
    else
        {
        document.getElementById("sidebar-wrapper").style.minWidth = '0px';
        img.src="{% static '/images/arrow01.png' %}";
        {#img.src = "{% static '/images/arrow01.png' %}";#}

    }
    i++;
}

var treeid = "{{ jstreeurl }}";
var id = treeid
var treename = "{{ jstreenameurl }}";
var na2=document.getElementById("zoomin");
var j = 1;
function showname(){
    if (j % 2!== 0){
                    treeid = treename;
                    na2.value="Hide PRO Name";
    $('#hierarchytree').data('jstree', false).empty();
    $(function() {
  $('#hierarchytree').jstree({'plugins':["wholerow"],
    'core' : {
      'data' : {
          //[{"text" : "amino acid chain","a_attr" : "{'href': 'http://purl.obolibrary.org/obo/PR_000018263'}"}, "chidren": []]
          "url": treeid,
        "dataType" : "json" ,// needed only if you do not supply JSON headers
      },
        'themes' : {
          "icons" : false
        }
    }

  })
});
            }
            else{
                treeid = id;
                na2.value="Show PRO Name";
            $('#hierarchytree').data('jstree', false).empty();
            $(function() {
            $('#hierarchytree').jstree({'plugins':["wholerow"],
    'core' : {
      'data' : {
          //[{"text" : "amino acid chain","a_attr" : "{'href': 'http://purl.obolibrary.org/obo/PR_000018263'}"}, "chidren": []]
          "url": treeid,
        "dataType" : "json" ,// needed only if you do not supply JSON headers
      },
        'themes' : {
          "icons" : false
        }
    }

  })
});
            }
            j++;
        }



$(function() {
  $('#hierarchytree').jstree({'plugins':["wholerow"],
    'core' : {
      'data' : {
          //[{"text" : "amino acid chain","a_attr" : "{'href': 'http://purl.obolibrary.org/obo/PR_000018263'}"}, "chidren": []]
          "url": "{{ jstreeurl }}",
        "dataType" : "json" ,// needed only if you do not supply JSON headers
      },
        'themes' : {
          "icons" : false
        }
    }

  })
});

$("#hierarchytree").on("click", ".jstree-anchor", function(evt)
{
var link = $(evt.target).attr("href");
window.open(link, '_blank');
});

var $treeview = $("#hierarchytree");
$treeview
//.jstree(options)
.on('loaded.jstree', function() {
    $treeview.jstree('open_all');
});


    </script>
</body>
</html>