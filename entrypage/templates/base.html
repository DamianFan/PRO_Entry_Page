{% load staticfiles %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>PRO Entry Report</title>
    <!-- jQuery -->
    {% load staticfiles %}
    <script type="text/javascript" src="//code.jquery.com/jquery-1.11.0.min.js"></script>
    <link rel="stylesheet" href="//code.jquery.com/ui/1.10.4/themes/smoothness/jquery-ui.css">
    <script type="text/javascript" src="//code.jquery.com/ui/1.10.4/jquery-ui.js"></script>

    <script type='text/javascript' src="https://cdnjs.cloudflare.com/ajax/libs/malihu-custom-scrollbar-plugin/3.1.5/jquery.mCustomScrollbar.concat.min.js"></script>
    <!-- Bootstrap -->
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css">
    <script type="text/javascript" src="//netdna.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jstree/3.3.8/themes/default/style.min.css" />
    <style>
        .wrapper1, .wrapper2 {
            width: 293px;
            height:auto;
            overflow-x: scroll;
            overflow-y:hidden;
        }
        .div1 {
            width:293px;
            height: 20px;
        }
        .sidarbar-span {
            width:293px;
            overflow: auto;
        }
    </style>
    <script src="{% static 'js/test_js.js' %}"></script>
    <script src="{% static 'js/qtip.js' %}"></script>
    <script src="{% static 'js/for_entrypage.js' %}"></script>
{#    <script src="{% static 'js/entry.js' %}"></script>#}
    <script> var msaEntryUrl="{{ msaEntryUrl }};" </script>
{#    local css#}
    <link rel="stylesheet" href="{% static "css/simple-sidebar.css" %}" >
    <link rel="stylesheet" href="{% static "css/style.css" %}">
    <link rel="stylesheet" href="{% static "css/qtip.css" %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jstree/3.3.8/themes/default/style.min.css" />
{#    <script type="text/javascript" src="{% static 'msa/msa_functions.js' %}"></script>#}
{#    <script type="text/javascript" src="{% static 'msa/msa_functions_pro.js' %}"></script>#}
{#    <script type="text/javascript" src="{% static 'msa/app.js' %}"></script>#}
{#        <!--MSA-->#}
{#    <script type="text/javascript" src="{% static 'msa/setting.js' %}"></script>#}
{#    <!--tooltipster-->#}
{#    <script type="text/javascript" src="{% static 'msa/jquery.tooltipster.min.js' %}"></script>#}
{#    <script>#}
{#        var dataUrl = "{% url 'msa:data' mod query %}";#}
{#        var prologo =  '<img id="iconPRO" class="icon-link" src="{% static 'pro/pirwww/images/PROlogofinal300.png' %}" alt="PRO" title="PRO Entry Report">';#}
{#        var prourl = '';#}
{#        var cytologo = '<img id="iconCyto" class="icon-link" src="{% static 'msa/images/cyto-logo.gif' %}" alt="Cyto" title="Cytoscape View">';#}
{#        var cytourl = '/app{% if test_site%}_test{%endif%}/visual/cytoscape/pro/';#}
{#        var daglogo =  '<img id="iconDag" class="icon-link" src="{% static 'pro/pirwww/images/hierarchy.png' %}" alt="DAG" title="DAG View">';#}
{#        var dagurl = '/cgi-bin/browser_pro{% if test_site%}_test.pl{%endif%}?ids='#}
{#    </script>#}

</head>
<body>

<span id="top"></span>



<div id="pro-header">
    <table border="0" cellspacing="0" cellpadding="0" width=100%>
        <tr><td>

            <table cellSpacing=0 cellPadding=0 width="100%" background="{% static '/images/bannerBg.png' %}" border=0 >
                <TR><TD colspan=8><img src="{% static '/images/empty_line.GIF' %}" width='1' height='9'></TD></TR>
                <TR><td bgcolor=#EEEEEE colspan=8 height=1 nowrap><img src='{% static '/images/empty_line.GIF' %}' alt="" width='1' height='3'></td></TR>
                <tr style="height:76px">
                    <td align=center style="padding:2px 3px 2px 11px">
                        <a href='/pro.shtml'><img alt='back to PRO homepage' src='{% static '/images/PROlogofinalEDGclear.png' %}'  width=140 heightxx=42 border=0></a>
                    </td>
                    <td width=80% >
                        <TABLE border=0 cellPadding=0 cellSpacing=0 class=PRO_banner1 >
                            <TR> <td><img src='{% static '/images/empty_line.GIF' %}' width='15'></td>
                                <td><img src="{% static '/images/hm.png' %}" alt="" width="18">&nbsp;</td>
                                <TD align='center' nowrap><a href='/pro.shtml' class='ProMenu'>Home</a></td>
                                <td style="padding:0 5px">|</td>

                                <td><img src='{% static '/images/browse.png' %}' width='18'>&nbsp;</td>
                                <td align='center' nowrap><a href='/pro_browse.shtml' class='ProMenu'>Browse</a></td><td>
                                <td style="padding:0 5px">|</td>

                                <td><img src='{% static '/images/search_copy.png' %}' width='18'>&nbsp;</td>
                                <td align='center' nowrap><a href='/pro_search.shtml' class='ProMenu'>Search</a></td>
                                <td style="padding:0 5px">|</td>

                                <td><img src='{% static '/images/sparql.png' %}' width='18'>&nbsp;</td>
                                <td align='center' nowrap><a href='/pro_sparql.shtml' class='ProMenu'>SPARQL</a></td>
                                <td style="padding:0 5px">|</td>

                                <td><img src='{% static '/images/sta.png' %}' width='18'>&nbsp;</td>
                                <td align='center' nowrap><a href='/cgi-bin/sta_pro' class='ProMenu'>Statistics</a></td>
                                <td style="padding:0 5px">|</td>

                                <td><img src='{% static '/images/download.png' %}' width='18'>&nbsp;</td>
                                <td align='center' nowrap><a href='/pro_download.shtml' class='ProMenu'>Download</a></td>

                                <td><img src='{% static '/images/empty_line.GIF' %}' width='15'></td>
                            </TR>
                        </TABLE>
                    </td>

                    <td align=center>
                        <TABLE border=0 cellPadding=3 cellSpacing=3 class=nrm02>
                            <TR>
                                <form name=prosearch method=get action=/cgi-bin/textsearch_pro>
                                    <TD nowrap><input type=text name=query0 size=30 class=nrm11 placeholder='PR:000025934, smad'>
                                    <td><input type=image name='search' src='{% static '/images/searchWhite.png' %}'><input type=hidden name=field0 value='ALLFLDS'></td>
                                    <td><img src='{% static '/images/empty_line.GIF' %}' width='4'></td>
                                </form>
                            </TR>
                        </TABLE>
                    </td>
                    <td bgcolor=#EEEEEE><img src='{% static '/images/empty_line.GIF' %}' width='3' height='1'></td>
                    <td>

                        <TABLE border=0 cellPadding=3 cellSpacing=3 class=PRO_banner2 >
                            <TR><td></td>

                                <TD nowrap><IMG src='{% static '/images/whiteDot.gif' %}'>&nbsp;<a href='/cgi-bin/race_pro'>RACE-PRO</a>
                                    <br><IMG src='{% static '/images/whiteDot.gif' %}'>&nbsp;<a href='http://purl.obolibrary.org/obo/pr/tracker' target=_b>PRO tracker</a>
                                    <br><IMG src='{% static '/images/whiteDot.gif' %}'>&nbsp;<a href='https://pir17.georgetown.edu/confluence/display/PROWIKI/Home' target=_b>Wiki</a></TD>

                                <TD><img src='{% static '/images/empty_line.GIF' %}' width='5'></TD>
                            </TR>
                        </TABLE>

                    </td>
                    <td bgcolor=#EEEEEE><img src='{% static '/images/empty_line.GIF' %}' width='3' height='1'></td>
                    <td align=right>


                        <TABLE border=0 cellPadding=3 cellSpacing=3 class=PRO_banner2 >
                            <TR><td></td>

                                <TD nowrap><IMG src='{% static '/images/whiteDot.gif' %}'>&nbsp;<a href='/pro_cst.shtml'>PRO Consortium</a>
                                    <br><IMG src='{% static '/images/whiteDot.gif' %}'>&nbsp;<a href='/pro_pub.shtml'>Publications</a>
                                    <br><IMG src='{% static '/images/whiteDot.gif' %}'>&nbsp;<a href='/pro_dcmtt.shtml'>Documentation</a></TD>

                                <TD><img src='{% static '/images/empty_line.GIF' %}' width='15'></TD>
                            </TR>
                        </TABLE>

                    </td>
                </tr>
                <TR><td bgcolor=#EEEEEE colspan=8 height=1 nowrap><img src='{% static '/images/empty_line.GIF' %}' width='1' height='3'></TD></TR>
                <TR><td colspan=8><img src='{% static '/images/empty_line.GIF' %}' width='1' height='9'></TD></TR>
            </table>

        </td>
        </tr>
    </table>
</div>

<div id="container">

<div  id="lsidebar" class="lsidebar">
<div id="functionset">
{#<div class="wrapper1">#}
{#    <div class="div1"></div>#}
{#</div>#}
     <img id="treeicon" src="{% static '/images/leafLessTree.png' %}" width="20" height="20">
     <input type="button" id="showname" onclick="showname()" style="width: 130px;font-weight: bold; color:#336699; height: 28px;  font-size: 13px"; value="Show PRO Name">
</div>
{#            "{% static '/images/arrow01.png' %}"#}
{#            <img id="arr" src="{% static '/images/arrow01.png' %}" width="10" height="10">#}


{#        <button  type="button" id="zoomin" onclick="fullscreen()" style="width: 30px;font-weight: bold; color:#336699; height: 28px; font-size: 13px; float: right;">#}
{#            <img id="arr" src="{% static '/images/arrow01.png' %}" width="10" height="10">#}
{#        </button>#}
    <div class="wrapper2">
    <div id="hierarchytree" class="sidarbar-span">
    </div>
    </div>


</div>

<div id="msidebar" class="msidebar">
    <div id="main">



    <a id="topButton" href="#top" class="pull-right"><span class="glyphicon glyphicon-chevron-up"></span>top</a>

    <div id="Table_Borderless">
        {% include "table_borderless.html" %}
    </div>
        <div id="page-content-wrapper" id="main">
        <button type="button" id="menu-toggle">
            <a id="buttext" style="color:#336699;font-weight: bold;" onclick="zoomhierarchy()">Hide Hierarchy</a>
        </button>


        <button type="button" id="menu-toggle2" style="float: right" onclick="changegrid()">
            <a id="righttext" style="color:#336699;font-weight: bold;" onclick="">Hide Display</a>
        </button>
    </div>
    <div id="ontology-information">
        {% include "ontology_information.html" %}
    </div>
    {% if checkrcr %}
    <div id="related-cross-reference" style="display: inline;">
        {% include "xref.html" %}
    </div>
    {% endif %}
    <div id="msa" style="display: none;">
{#        {% include 'alignment.html' %}#}
            <table id="sequence-alignment" class="table table-condensed table-bordered table-pro-th table-pro-toggle">
        <thead>
        <tr>
            <th colspan="2"><div class="table-pro-toggle-icon"><span class="glyphicon glyphicon-collapse-down"></span></div> Interactive Sequence View
                <span class="pull-right">
                   {% if category == 'organism-gene' %}
                       <a href="{{ url }}" class="pretty" target="_blank">
                   {% else %}
                       <a href="{{ url }}" class="pretty" target="_blank">
                   {% endif %}Select/align proteoforms across species</a>
                </span>
            </th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td colspan="2" id="msaCell" height="400" align="center">
                <div id="msaResult">

                    <object width="100%" height="400" data="{{ msaEntryUrl }}" type="text/html"></object>
                </div>
            </td>
        </tr>
        </tbody>
    </table>
    <br/>
    </div>

    <div id="forms">
        {% include 'forms.html' %}
    </div>

    <div id="complex">
        {% if has_component == True %}
            {% include "gene_complex.html" %}
        {% endif %}
    </div>

    <div id="complex-subunits"></div>

    <div id="functional-annotation">
        {% include "paf.html" %}
    </div>


</div>
</div>


<div id="rsidebar" class="rsidebar">



    <div id="rsidebarhead"></div>


    <div id="rsidebartable">
        <table id="display" class="table table-condensed table-bordered table-rsidebar-th table-rsidebar-first-td">
    <thead>
    <tr>
            <th colspan="2">Display</th>
        </tr>
    </thead>
    <tbody>
    {% if checkrcr %}
        <tr>
        <td width="20px"><input class="toggle-section" id="tg_names_and_taxonomy" type="checkbox" checked="checked"></td>
        <td>Related Cross References</td>
    </tr>
        {% else %}
        <tr>
        <td width="20px"><input class="toggle-section" id="tg_names_and_taxonomy" type="checkbox" disabled="disabled"></td>
        <td>Related Cross References</td>
    </tr>
    {% endif %}
    <tr>
        <td><input class="toggle-section" id="tg_msa" type="checkbox"></td>
        <td>MSA</td>
    </tr>
    {% if checkforms %}
        <tr>
        <td><input class="toggle-section" id="tg_forms" type="checkbox" checked="checked"></td>
        <td>Protein Forms</td>
    </tr>
        {% else %}
        <tr>
        <td><input class="toggle-section" id="tg_forms" type="checkbox" disabled="disabled"></td>
        <td>Protein Forms</td>
    </tr>
    {% endif %}

    {% if has_component %}
    <tr>
        <td><input class="toggle-section" id="tg_complex" type="checkbox" checked="checked"></td>
        <td>Complex</td>
    </tr>
        {% else %}
        <tr>
        <td><input class="toggle-section" id="tg_complex" type="checkbox" disabled="disabled"></td>
        <td>Complex</td>
    </tr>
    {% endif %}
    <tr>
        <td><input class="toggle-section" id="tg_annotation" type="checkbox" checked="checked"></td>
        <td>Functional Annotation</td>
    </tr>


    </tbody>
</table>
    </div>




</div>
<!-- /#sidebar-wrapper -->
<!-- Sidebar -->

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jstree/3.3.8/jstree.min.js"></script>

</body>



<script>

    {#var treeid = "{{ jstreeurl }}";#}
    {#var id = treeid#}
    {#var treename = "{{ jstreenameurl }}";#}


var i=1;
var img=document.getElementById("arr");
function fullscreen(){
    if(i%2!==0)
    {
    document.getElementById("sidebar-wrapper").style.minWidth ='100%';
    img.src="{% static '/images/arrow02.png' %}";
    {#img.src = "{% static '/images/arrow02.png' %}";#}

    }
    else
        {
        document.getElementById("sidebar-wrapper").style.minWidth = '0px';
        img.src="{% static '/images/arrow01.png' %}";
        {#img.src = "{% static '/images/arrow01.png' %}";#}

    }
    i++;
}

var url = "";
var treeid = "{{ jstreeurl }}";
var id = treeid;
var treename = "{{ jstreenameurl }}";
var na2=document.getElementById("showname");
var j = 1;
function showname(){
    //if (j % 2!== 0){
    if(na2.value=="Show PRO Name") {
                    treeid = treename;
                    url = treename;
                    na2.value="Hide PRO Name";
                    {#document.getElementById('container').style.gridTemplateColumns = "100% 0 0";#}
                    {#document.getElementById('menu-toggle2').style.display = "none";#}
    //$('#hierarchytree').data('jstree', false).empty();
    $('#hierarchytree').jstree("destroy").empty();
    $(function() {
          $('#hierarchytree').jstree({'plugins':["wholerow"],
            'core' : {
              'data' : {
                  //[{"text" : "amino acid chain","a_attr" : "{'href': 'http://purl.obolibrary.org/obo/PR_000018263'}"}, "chidren": []]
                  "url": treeid,
                "dataType" : "json" ,// needed only if you do not supply JSON headers
              },
                'themes' : {
                  "icons" : false
                }
            }
          }).bind("loaded.jstree", function (event, data) {
        $(this).jstree("open_all");
        })
});
            }
            else{
                treeid = id;
                url = id;
                na2.value="Show PRO Name";
                {#document.getElementById('container').style.gridTemplateColumns = "20% 70% 10%";#}
                {#document.getElementById('menu-toggle2').style.display = "inline";#}
            //$('#hierarchytree').data('jstree', false).empty();
            $('#hierarchytree').jstree("destroy").empty();
            $(function() {
            $('#hierarchytree').jstree({'plugins':["wholerow"],
    'core' : {
      'data' : {
          //[{"text" : "amino acid chain","a_attr" : "{'href': 'http://purl.obolibrary.org/obo/PR_000018263'}"}, "chidren": []]
          "url": treeid,
        "dataType" : "json" ,// needed only if you do not supply JSON headers
      },
        'themes' : {
          "icons" : false
        }
    }

  })
  .bind("loaded.jstree", function (event, data) {
        $(this).jstree("open_all");
        })
});
            }

            j++;
        }



$(function() {
//alert(url);
  $('#hierarchytree').jstree({'plugins':["wholerow"],
    'core' : {
      'data' : {
          "title":"test tittle",
          //[{"text" : "amino acid chain","a_attr" : "{'href': 'http://purl.obolibrary.org/obo/PR_000018263'}"}, "chidren": []]
          "url": "{{ jstreeurl }}",
        "dataType" : "json" ,// needed only if you do not supply JSON headers
      },
        'themes' : {
          "icons" : false
        }
    }

  })

});



$(function () {
   $("#hierarchytree").on("click", ".jstree-anchor", function(evt)
{
var link = $(evt.target).attr("href");
window.open(link, '_blank');
})

});



</script>
<script>
$(function () {
    var $treeview = $("#hierarchytree");
$treeview
//.jstree(options)
.on('loaded.jstree', function() {
    $treeview.jstree('open_all');
})
});
</script>

<script>
    $("#menu-toggle").click(function(e) {
      e.preventDefault();
      $("#wrapper").toggleClass("toggled");
    });

</script>


<script>

    var leftflag = 0;
function zoomhierarchy(){

    if(leftflag==0){
        if (rightflag==0){
            {#$('#hierarchytree').empty();#}
        //$('#hierarchytree').data('jstree', false).empty();
        document.getElementById('lsidebar').style.visibility='none';
        document.getElementById('showname').style.display='none';
        document.getElementById('treeicon').style.display='none';
        $('#hierarchytree').jstree("destroy").empty();
        document.getElementById('container').style.gridTemplateColumns = "0% 90% 10%";
        document.getElementById('buttext').innerText = 'Show Hierarchy';}
        else{
           // $('#hierarchytree').data('jstree', false).empty();
        document.getElementById('lsidebar').style.visibility='none';
        document.getElementById('showname').style.display='none';
        document.getElementById('treeicon').style.display='none';
        $('#hierarchytree').jstree("destroy").empty();
        document.getElementById('container').style.gridTemplateColumns = "0% 100% 0%";
        document.getElementById('buttext').innerText = 'Show Hierarchy';
        }

        leftflag = 1;
    }
    else{
        if (rightflag==0){$('#hierarchytree').jstree({'plugins':["wholerow"],
        'core' : {
          'data' : {
              //[{"text" : "amino acid chain","a_attr" : "{'href': 'http://purl.obolibrary.org/obo/PR_000018263'}"}, "chidren": []]
              "url": "{{ jstreeurl }}",
            "dataType" : "json" ,// needed only if you do not supply JSON headers
          },
            'themes' : {
              "icons" : false
            }
        }
        }).bind("loaded.jstree", function (event, data) {
        $(this).jstree("open_all");
    }) ;
        document.getElementById('lsidebar').style.visibility='visible';
        document.getElementById('showname').style.display='inline';
        document.getElementById('buttext').innerText = 'Hide Hierarchy';
        document.getElementById('hierarchytree').style.display='block';
        document.getElementById('container').style.gridTemplateColumns = "20% 70% 10%";
        document.getElementById('treeicon').style.display='inline';}
        else{
            $('#hierarchytree').jstree({'plugins':["wholerow"],
        'core' : {
          'data' : {
              //[{"text" : "amino acid chain","a_attr" : "{'href': 'http://purl.obolibrary.org/obo/PR_000018263'}"}, "chidren": []]
              "url": "{{ jstreeurl }}",
            "dataType" : "json" ,// needed only if you do not supply JSON headers
          },
            'themes' : {
              "icons" : false
            }
        }
        }).bind("loaded.jstree", function (event, data) {
        $(this).jstree("open_all");
    }) ;
        document.getElementById('lsidebar').style.visibility='visible';
        document.getElementById('showname').style.display='inline';
        document.getElementById('buttext').innerText = 'Hide Hierarchy';
        document.getElementById('container').style.gridTemplateColumns = "20% 80% 0%";
        document.getElementById('treeicon').style.display='inline';
        }
        leftflag = 0;

    }

}
</script>

<script>
    var rightflag = 0;
    var rside = document.getElementById('rsidebartable');

    function changegrid(){
    if (rightflag==0){
        rside.style.display='none';
        if (leftflag==0){

            document.getElementById('container').style.gridTemplateColumns = "20% 80% 0%";
        }
        else{

            document.getElementById('container').style.gridTemplateColumns = "0% 100% 0%";
        }
        document.getElementById('righttext').innerText = 'Show Display';
        rightflag=1;
    }
    else{
        rside.style.display='inline';
        if (leftflag==0){
            document.getElementById('container').style.gridTemplateColumns = "20% 70% 10%";
        }
        else{
            document.getElementById('container').style.gridTemplateColumns = "0% 90% 10%";
        }
        document.getElementById('righttext').innerText = 'Hide Display';
        rightflag=0;
    }


    }
</script>


<script>
$(function () {
  $('[jstree-anchor]').tooltip()
})
</script>

<script>


</script>



<script>
    var cross=document.getElementById('related-cross-reference');
    $(document).ready(function () {
        $('#tg_names_and_taxonomy').click(function () {
            if (document.getElementById("tg_names_and_taxonomy").checked){
                cross.style.display="block";
                cross.scrollIntoView(true);
            }
            else{
                cross.style.display="none";
            }
        })

    })
</script>

<script>
    var forms=document.getElementById('forms');
    $(document).ready(function () {
        $('#tg_forms').click(function () {
            if (document.getElementById("tg_forms").checked){
                forms.style.display="block";
                forms.scrollIntoView(true);
            }
            else{
                forms.style.display="none";
            }
        })

    })
</script>

<script>
    var comp=document.getElementById('complex');
    $(document).ready(function () {
        $('#tg_complex').click(function () {
            if (document.getElementById("tg_complex").checked){
                comp.style.display="block";
                comp.scrollIntoView(true);
            }
            else{
                comp.style.display="none";
            }
        })

    })
</script>

<script>
    var funano=document.getElementById('functional-annotation');
    $(document).ready(function () {
        $('#tg_annotation').click(function () {
            if (document.getElementById("tg_annotation").checked){
                funano.style.display="block";
                funano.scrollIntoView(true);
            }
            else{
                funano.style.display="none";
            }
        })

    })
</script>

{#<script>#}
{#    $(document).ready(function () {#}
{#        $('#msa').load('/msa/view/entry/PR:000025934');#}
{#    })#}
{#</script>#}
<script>
    var msav=document.getElementById('msa');
    $(document).ready(function () {
        $('#tg_msa').click(function () {
            if (document.getElementById("tg_msa").checked){
                msav.style.display="block";
                msav.scrollIntoView(true);
            }
            else{
                msav.style.display="none";
            }
        })

    })
</script>

<script>
    $(document).ready(function () {
        $("#msaResult").html('<object  width="100%" height="400" data="' + {{ msaEntryUrl }} + '" type="text/html">');
    });
</script>

{#<script>#}
{#    $(function(){#}
{#        $(".wrapper1").scroll(function(){#}
{#            $(".wrapper2").scrollLeft($(".wrapper1").scrollLeft());#}
{#        });#}
{#        $(".wrapper2").scroll(function(){#}
{#            $(".wrapper1").scrollLeft($(".wrapper2").scrollLeft());#}
{#        });#}
{#    });#}
{#</script>#}
</html>